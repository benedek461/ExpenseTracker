<div class="container" fxLayoutAlign="center center" fxFlexFill>
  <mat-card>
    <mat-card-content>
      <form fxLayoutAlign="stretch" fxLayout="row">
        <div class="textArea" fxLayout="column" fxLayoutAlign="center center">
          <div class="image-container">
            <img src="../../../../assets/money-with-wings-svgrepo-com.svg" />
          </div>
          <h2>Welcome to<br />ExpenseTracker!</h2>
          <p>Are you ready to track your expenses?</p>
          <p>Please fill the field in this form to <br />create a new user account<br /> to Expense Tracker!</p>
          <div fxLayoutAlign="bottom">
            <p>Made by Benedek Hevesi<br />Â© 2024 | All rights reserved</p>
          </div>
        </div>
        <div fxLayout="column" fxLayoutGap="10px">
          <div fxLayout="row" fxLayoutGap="10px">
            <mat-form-field appearance="outline">
              <mat-label>First name</mat-label>
              <input matInput
                     [formControl]="firstnameControl"
                     type="text"
                     [(ngModel)]="firstname"
                     name="firstname"
                     (blur)="updateFirstnameErrorMessage()"
                     required />
              @if (firstnameControl.invalid) {
              <mat-error>{{errorMessageFirstname}}</mat-error>
              }
            </mat-form-field>
            <mat-form-field appearance="outline">
              <mat-label>Last name</mat-label>
              <input matInput
                     [formControl]="lastnameControl"
                     type="text"
                     [(ngModel)]="lastname"
                     name="lastname"
                     (blur)="updateLastnameErrorMessage()"
                     required />
              @if (lastnameControl.invalid) {
              <mat-error>{{errorMessageLastname}}</mat-error>
              }
            </mat-form-field>
          </div>
          <mat-form-field appearance="outline">
            <mat-label>Username</mat-label>
            <input matInput
                   [formControl]="usernameControl"
                   type="text"
                   [(ngModel)]="username"
                   name="username"
                   (blur)="updateUsernameErrorMessage()"
                   required />
            @if (usernameControl.invalid) {
            <mat-error>{{errorMessageUsername}}</mat-error>
            }
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>E-mail Address</mat-label>
            <input matInput
                   [formControl]="emailControl"
                   type="text"
                   [(ngModel)]="email"
                   name="email"
                   (blur)="updateEmailErrorMessage()"
                   required />
            @if (emailControl.invalid) {
            <mat-error>{{errorMessageEmail}}</mat-error>
            }
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Password</mat-label>
            <input matInput
                   [formControl]="passwordControl"
                   type="password"
                   [(ngModel)]="password"
                   name="password"
                   (blur)="updatePasswordErrorMessage()"
                   required />
            @if (passwordControl.invalid) {
            <mat-error>{{errorMessagePassword}}</mat-error>
            }
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Confirm Password</mat-label>
            <input matInput
                   [formControl]="confirmpasswordControl"
                   type="password"
                   [(ngModel)]="confirmpassword"
                   name="confirmpassword"
                   (blur)="updateConfirmpasswordErrorMessage()"
                   required />
            @if (confirmpasswordControl.invalid) {
            <mat-error>{{errorMessageConfirmpassword}}</mat-error>
            }
          </mat-form-field>
          <mat-form-field appearance="outline">
            <mat-label>Account Balance</mat-label>
            <input matInput
                   [formControl]="accountbalanceControl"
                   type="number"
                   [(ngModel)]="accountbalance"
                   name="accountbalance"
                   (blur)="updateAccountbalanceErrorMessage()"
                   required />
            @if (accountbalanceControl.invalid) {
            <mat-error>{{errorMessageAccountbalance}}</mat-error>
            }
          </mat-form-field>
          <mat-form-field>
            <mat-label>Account currency</mat-label>
            <mat-select [formControl]="currencies">
              <mat-select-trigger>
                {{currencies.value?.[0] || ''}}
                @if ((currencies.value?.length || 0) > 1) {
                <span class="example-additional-selection">
                  (+{{(currencies.value?.length || 0) - 1}} {{currencies.value?.length === 2 ? 'other' : 'others'}})
                </span>
                }
              </mat-select-trigger>
              @for (currency of currencyList; track currency) {
              <mat-option [value]="currency">{{currency}}</mat-option>
              }
            </mat-select>
          </mat-form-field>
          <div fxLayout="column" fxLayoutGap="10px" style="margin-top: 5px">
            <button mat-flat-button color="primary" type="submit" (click)="handleRegister()">Register</button>
            <p>Already have and account?</p>
            <button mat-stroked-button color="primary" (click)="handleLogin()">Login</button>
          </div>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>
